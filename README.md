# Rubik's Cube Solver

## Table of Contents

- [Overview](#overview)
- [Distinctiveness and Complexity](#distinctiveness-and-complexity)
- [File Structure and Contents](#file-structure-and-contents)
- [Requirements](#requirements)
- [How to Run the Application](#how-to-run-the-application)
- [Testing](#testing)
- [API Endpoints](#api-endpoints)
- [Additional Information](#additional-information)

## Overview

This project is a full-stack web application designed to solve Rubik's Cubes using Kociemba's two-phase algorithm. The backend is built with Django and exposes a RESTful API for cube solving, validation, and history tracking. The frontend is implemented with Next.js, providing an interactive user interface for entering cube states, visualizing solutions, and viewing solve history. The project aims to deliver a robust, scalable, and user-friendly experience for both casual users and speedcubers.

### Distinctiveness and Complexity

#### Distinctiveness

This project stands out from typical course projects due to its integration of advanced algorithmic solving (Kociemba), real-time validation, and persistent history tracking. It doesn't seek to replicate any of the course problem sets. Unlike standard CRUD or blog applications, it combines:

- **Algorithmic Complexity:** The backend leverages the kociemba Python package to compute optimal solutions for arbitrary cube states, requiring careful data validation and transformation.
- **Data Modeling:** Solve records are stored with detailed metadata (move count, solve time, IP address, timestamp), supporting analytics and user feedback.
- **Frontend-Backend Integration:** The Next.js frontend communicates with the Django backend via REST APIs, enabling interactive cube input and solution visualization.
- **Distinct UI/UX:** The frontend features custom components for cube manipulation and history browsing, distinguishing it from template-based apps. The landing page also appears like something straight out of the [Resend website](https://resend.com).

#### Complexity

- **Validation Logic:** The backend performs multi-level validation (shape, color counts, physical possibility) before attempting to solve, ensuring only valid cubes are processed.
- **Error Handling:** Robust error handling is implemented for malformed requests, unsolvable cubes, and database failures.
- **Database Design:** The CubeSolve model tracks all relevant data for each solve, supporting efficient queries and pagination.
- **API Endpoints:** Multiple endpoints (solve, validate, health, history) provide a comprehensive interface for frontend and external integrations.
- **Frontend Architecture:** The Next.js app is modular, with reusable components and type-safe data handling.

This combination of algorithmic, architectural, and user experience complexity sets the project apart from standard web applications in the course.

## File Structure and Contents

### Backend (`backend/`)

- `main.py`: Entry point for standalone backend execution (prints a greeting).
- `manage.py`: Django's command-line utility for administrative tasks.
- `pyproject.toml`: Python project metadata and dependencies configuration.
- `uv.lock`: Lock file containing exact versions of all dependencies and their transitive dependencies for reproducible builds.
- `requirements.txt`: Traditional pip-compatible requirements file for environments that don't support uv. (Generated by the `uv export` command)
- `cube/`: Django project settings and configuration.
  - `settings.py`: Main settings (static files, security, installed apps).
  - `urls.py`: URL routing for all API endpoints.
  - `asgi.py`, `wsgi.py`: ASGI/WGI entry points for deployment.
- `solver/`: Django app for cube solving logic.
  - `models.py`: Defines the `CubeSolve` model for storing solve records.
  - `views.py`: Implements API endpoints for solving, validating, health check, and history.
  - `apps.py`: App configuration.
  - `admin.py`: (Optional) Model registration for Django admin.
  - `tests.py`: Unit testing using `django.test`.
  - `migrations/`: Database migration files.
- `staticfiles/`: Static assets for admin and Grappelli UI.

### Frontend (`frontend/`)

- `package.json`, `bun.lock`, etc.: Frontend dependencies and configuration.
- `src/`: Main source code.
  - `app/`: Application pages and layout.
  - `components/`: UI components (e.g., cube scene, controls).
  - `lib/`: Utility functions.
  - `types/`: Type definitions for cube data.
  - `public/`: Static assets (SVGs, icons).

## Testing

The project includes comprehensive unit tests to ensure reliability and correctness.

### Test Coverage

Unit tests are provided in `backend/solver/tests.py` and cover:

- **Cube state validation** - Testing valid and invalid cube configurations
- **Facelet string conversion** - Ensuring proper data format transformation
- **API endpoint responses** - Testing all endpoints (`/solve/`, `/validate/`, `/health/`)
- **Error handling** - Validating proper error responses for malformed inputs

### Running Tests

**Using Django's test runner:**

```bash
cd backend
python manage.py test solver
```

Tests will automatically verify cube validation logic, API response formats, and facelet string correctness. All tests should pass before deploying to production.

## Requirements

The project uses multiple dependency management files for flexibility and compatibility:

- **`pyproject.toml`**: Main Python project configuration with dependencies, build settings, and project metadata
- **`uv.lock`**: Lock file ensuring exact reproducible dependency versions across all environments
- **`requirements.txt`**: Traditional pip-compatible requirements for legacy environments or CI/CD systems

See `pyproject.toml` for all Python dependencies. The main requirements include:

- **Python 3.8+**
- **Django** - Web framework for the backend API
- **kociemba** - Rubik's cube solving algorithm implementation
- **pydantic** - Data validation and serialization
- **Node.js 18+** - For the frontend development
- **uv** - Python package manager (recommended)

For a complete list of dependencies, check:

- `pyproject.toml` (backend dependencies and project configuration)
- `uv.lock` (exact locked versions for reproducible builds)
- `requirements.txt` (pip-compatible format)
- `package.json` (frontend dependencies)

## How to Run the Application

First, clone the repository:

```bash
git clone https://github.com/Shoaib-Programmer/Cube
cd Cube
```

### Backend Setup

1. **Navigate to the backend directory:**

   ```bash
   cd backend
   ```

2. **Create and activate a virtual environment:**

   ```bash
   uv venv                          # Create a virtual environment
   source .venv/bin/activate        # Activate the virtual environment (Linux/Mac)
   # or on Windows: .venv\Scripts\activate
   ```

3. **Install Python dependencies:**

   ```bash
   uv sync                          # Sync dependencies from lockfile
   # or alternatively: uv pip install -r requirements.txt
   # or for legacy environments: pip install -r requirements.txt
   ```

4. **Set up the database:**

   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

5. **Run the development server:**
   ```bash
   python manage.py runserver
   ```
   The API will be available at `http://localhost:8000/`.

### Frontend Setup

1. **Navigate to the frontend directory:**

   ```bash
   cd ../frontend
   ```

2. **Install Node.js dependencies:**

   ```bash
   bun install # Or alternatively, `npm install`
   # But bun is recommended
   ```

3. **Start the development server:**
   ```bash
   bun dev
   # if using `npm`: `npm run dev`
   ```
   The frontend will be available at `http://localhost:3000/`.

## API Endpoints

The backend provides the following REST API endpoints:

- **`/solve/`** (POST) - Submit a cube state to receive an optimal solution
- **`/validate/`** (POST) - Validate if a cube state is solvable
- **`/history/`** (GET) - Retrieve recent solve records with pagination support
- **`/health/`** (GET) - Check the health status of the backend service

## Additional Information

### Distinctive Features

- Real-time cube validation and solving using Kociemba's algorithm
- Persistent solve history with analytics and metadata tracking
- Modular, type-safe frontend for interactive cube manipulation
- Advanced error handling and comprehensive input validation
- Modern UI design inspired by contemporary web applications

### Deployment

- **Backend**: Can be deployed on any WSGI/ASGI-compatible server (Gunicorn, uWSGI, etc.)
- **Frontend**: Ready for deployment on Vercel, Netlify, or similar platforms
- **Database**: Uses SQLite by default, easily configurable for PostgreSQL or MySQL in production

---

If you have any questions or need further clarification, please email me via shoaibnigam422@gmail.com.
